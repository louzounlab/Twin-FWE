{% extends 'base.html' %}

{% block head %}
    <style>

        .hidden {
            display: none;
        }

        .glow-button {
            background-color: #3498db; /* Default background color */
            color: #ffffff; /* Default text color */
            padding: 15px 20px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            outline: none;
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        .glow-button:hover {
            background-color: #2980b9; /* Hover background color */
        }

        .glow-button.selected {
            background-color: plum; /* Selected background color */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); /* Add a box shadow when selected */
        }
    </style>

{% endblock %}

{% block content %}
    <style>
    </style>
    <script>
        function glow1() {
            // Remove 'selected' class from all buttons
            let buttons = document.querySelectorAll('.glow-button');
            buttons.forEach(function (btn) {
                btn.classList.remove('selected');
            });

            // Add 'selected' class to the clicked button
            let selectedButton = document.getElementById('MCDA');
            selectedButton.classList.add('selected');

            // Update the value of the hidden input with the id/name of the selected button
            document.getElementById('cda_type').value = "MCDA";
        }

        function glow2() {
            // Remove 'selected' class from all buttons
            let buttons = document.querySelectorAll('.glow-button');
            buttons.forEach(function (btn) {
                btn.classList.remove('selected');
            });

            // Add 'selected' class to the clicked button
            let selectedButton = document.getElementById('DCDA');
            selectedButton.classList.add('selected');

            // Update the value of the hidden input with the id/name of the selected button
            document.getElementById('cda_type').value = "DCDA";
        }

        function toggleAdvanceResults1() {
            const x = document.getElementById("advance_results_1");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }

        function toggleAdvanceResults2() {
            const x = document.getElementById("advance_results_2");
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }
    </script>

    {% if results %}
        <br>
        <br>
        <div class="container row justify-content-evenly">
            <div class="col center text-center">
                <h3>Twin 1</h3>
                <br>
                <br>
                <div>
                    <a href="{{ twin_1_trend }}" download class="center">
                        <img src="{{ twin_1_trend }}" height="300" width="400">
                    </a>
                </div>
                <br>
                <button type="button" onclick="toggleAdvanceResults1()">Advanced Results</button>
                <br>
                <div class="container center text-center hidden" id="advance_results_1">
                    {% for file in twin_1_gaussians %}
                        <a href="{{ file }}" download class="center">
                            <img src="{{ file }}" height="300" width="400">
                        </a>
                    {% endfor %}
                </div>
            <br>
            <br>
            <a href="{{ twin_1_percentage }}" download="{{ twin_1_percentage }}">Click here to download the percentages
                results</a>
            </div>
            <div class="col center text-center">
                <h3>Twin 2</h3>
                <br>
                <br>
                <div>
                    <a href="{{ twin_2_trend }}" download class="center">
                        <img src="{{ twin_2_trend }}" height="300" width="400">
                    </a>
                </div>
                <br>
                <button type="button" onclick="toggleAdvanceResults2()">Advanced Results</button>
                <br>
                <div class="container hidden center text-center" id="advance_results_2">
                    {% for file in twin_2_gaussians %}
                        <a href="{{ file }}" download class="center">
                            <img src="{{ file }}" height="300" width="400">
                        </a>
                    {% endfor %}
                </div>
                <br>
                <br>
                <a href="{{ twin_2_percentage }}" download="{{ twin_2_percentage }}">Click here to download the
                    percentages results</a>
            </div>
        </div>
    {% endif %}

    <h4 style="color: red; text-align: center;">{{ error }}</h4>
    <br>
    <div class="text-center">
        <h1>Twin EFW</h1>
    </div>
    <div class="container text-center">
        <br>
        <h4>Please fill the following details:</h4>
        <br>
        <br>
        <form action="/process_form" method="post" enctype="multipart/form-data">
            <input type="text" hidden id="cda_type" name="cda_type" value="None">
            <div class="row" id="first_row">
                <div class="col">
                    <label for="cda">MCDA <b style="color: blue; font-size: 20px;">or</b> DCDA</label>
                    <br>
                    <br>
                    <button class="glow-button" onclick="glow1()" id="MCDA" name="MCDA" type="button">MCDA</button>
                    <button class="glow-button" onclick="glow2()" id="DCDA" name="DCDA" type="button">DCDA</button>
                </div>
            </div>
            <br><br>
            <div class="row">
                <div class="col"><h4>Twin 1</h4></div>
                <div class="col"><h4>Twin 2</h4></div>
            </div>
            <br>
            <div class="row">
                <div class="col">
                    <label for="week1">Week</label>
                    <br>
                    <br>
                    <input name="week1" id="week1" type="number" value="{{ data['week_1'] }}">
                    <br>
                    <br>
                    <b style="font-size: 20px; color: blue;">OR</b>
                    <br>
                    <br>
                    <input name="week1_1" id="week1_1" type="number" value="{{ data['week1_1'] }}"><br>
                    <input name="week1_2" id="week1_2" type="number" value="{{ data['week1_2'] }}"><br>
                    <input name="week1_3" id="week1_3" type="number" value="{{ data['week1_3'] }}"><br>
                    <input name="week1_4" id="week1_4" type="number" value="{{ data['week1_4'] }}"><br>
                    <input name="week1_5" id="week1_5" type="number" value="{{ data['week1_5'] }}"><br>
                    <input name="week1_6" id="week1_6" type="number" value="{{ data['week1_6'] }}"><br>
                    <input name="week1_7" id="week1_7" type="number" value="{{ data['week1_7'] }}"><br>
                    <input name="week1_8" id="week1_8" type="number" value="{{ data['week1_8'] }}"><br>
                    <input name="week1_9" id="week1_9" type="number" value="{{ data['week1_9'] }}"><br>
                    <input name="week1_10" id="week1_10" type="number" value="{{ data['week1_10'] }}"><br>
                </div>
                <div class="col">
                    <label for="weight1">Weight</label>
                    <br>
                    <br>
                    <input name="weight1" id="weight1" type="number" value="{{ data['weight_1'] }}">
                    <br>
                    <br>
                    <b style="font-size: 20px; color: blue;">OR</b>
                    <br>
                    <br>
                    <input name="weight1_1" id="weight1_1" type="number" value="{{ data['weight1_1'] }}"><br>
                    <input name="weight1_2" id="weight1_2" type="number" value="{{ data['weight1_2'] }}"><br>
                    <input name="weight1_3" id="weight1_3" type="number" value="{{ data['weight1_3'] }}"><br>
                    <input name="weight1_4" id="weight1_4" type="number" value="{{ data['weight1_4'] }}"><br>
                    <input name="weight1_5" id="weight1_5" type="number" value="{{ data['weight1_5'] }}"><br>
                    <input name="weight1_6" id="weight1_6" type="number" value="{{ data['weight1_6'] }}"><br>
                    <input name="weight1_7" id="weight1_7" type="number" value="{{ data['weight1_7'] }}"><br>
                    <input name="weight1_8" id="weight1_8" type="number" value="{{ data['weight1_8'] }}"><br>
                    <input name="weight1_9" id="weight1_9" type="number" value="{{ data['weight1_9'] }}"><br>
                    <input name="weight1_10" id="weight1_10" type="number" value="{{ data['weight1_10'] }}"><br>
                </div>
                <div class="col">
                    <label for="week2">Week</label>
                    <br>
                    <br>
                    <input name="week2" id="week2" type="number" value="{{ data['week2'] }}">
                    <br>
                    <br>
                    <b style="font-size: 20px; color: blue;">OR</b>
                    <br>
                    <br>
                    <input name="week2_1" id="week2_1" type="number" value="{{ data['week2_1'] }}"><br>
                    <input name="week2_2" id="week2_2" type="number" value="{{ data['week2_2'] }}"><br>
                    <input name="week2_3" id="week2_3" type="number" value="{{ data['week2_3'] }}"><br>
                    <input name="week2_4" id="week2_4" type="number" value="{{ data['week2_4'] }}"><br>
                    <input name="week2_5" id="week2_5" type="number" value="{{ data['week2_5'] }}"><br>
                    <input name="week2_6" id="week2_6" type="number" value="{{ data['week2_6'] }}"><br>
                    <input name="week2_7" id="week2_7" type="number" value="{{ data['week2_7'] }}"><br>
                    <input name="week2_8" id="week2_8" type="number" value="{{ data['week2_8'] }}"><br>
                    <input name="week2_9" id="week2_9" type="number" value="{{ data['week2_9'] }}"><br>
                    <input name="week2_10" id="week2_10" type="number" value="{{ data['week2_10'] }}"><br>
                </div>
                <div class="col">
                    <label for="weight2">Weight</label>
                    <br>
                    <br>
                    <input name="weight2" id="weight2" type="number" value="{{ data['weight_2'] }}">
                    <br>
                    <br>
                    <b style="font-size: 20px; color: blue;">OR</b>
                    <br>
                    <br>
                    <input name="weight2_1" id="weight2_1" type="number" value="{{ data['weight2_1'] }}"><br>
                    <input name="weight2_2" id="weight2_2" type="number" value="{{ data['weight2_2'] }}"><br>
                    <input name="weight2_3" id="weight2_3" type="number" value="{{ data['weight2_3'] }}"><br>
                    <input name="weight2_4" id="weight2_4" type="number" value="{{ data['weight2_4'] }}"><br>
                    <input name="weight2_5" id="weight2_5" type="number" value="{{ data['weight2_5'] }}"><br>
                    <input name="weight2_6" id="weight2_6" type="number" value="{{ data['weight2_6'] }}"><br>
                    <input name="weight2_7" id="weight2_7" type="number" value="{{ data['weight2_7'] }}"><br>
                    <input name="weight2_8" id="weight2_8" type="number" value="{{ data['weight2_8'] }}"><br>
                    <input name="weight2_9" id="weight2_9" type="number" value="{{ data['weight2_9'] }}"><br>
                    <input name="weight2_10" id="weight2_10" type="number" value="{{ data['weight2_10'] }}"><br>
                </div>
            </div>
            <br>
            <br>

            <button type="submit">Submit</button>
            <br>
            <br>
            <br>
        </form>
    </div>
{% endblock %}
